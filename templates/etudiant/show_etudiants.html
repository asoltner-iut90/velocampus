{% extends 'index.html' %}

{% block title %}
    <title>Afficher les étudiants</title>
{% endblock %}

{% block body %}
    <h3>Etudiant</h3>
    <a class="btn btn-dark btn-add" href="/etudiant/add" style="width: auto">Ajouter un etudiant</a>
    <br><br>
    <table class="table table-dark table-striped" style="width: 98vw; margin: 1vw;">
        <thead class="thead-dark">
        <tr>
            <th>Id Etudiant</th>
            <th>Nom</th>
            <th>Prénom</th>
            <td>Email</td>
            <td>Téléphone</td>
            <td>Formation</td>
            <td>Etablissement</td>
            <td>Opération</td>
        </tr>
        </thead>
        <tbody>
        {% if etudiants | length >= 1 %}
            {% for ligne in etudiants %}
                <tr>
                    <td>{{ ligne.idEtudiant }}</td>
                    <td>{{ ligne.nomEtudiant }}</td>
                    <td>{{ ligne.prenomEtudiant }}</td>
                    <td>{{ ligne.emailEtudiant }}</td>
                    <td>{{ ligne.telephoneEtudiant }}</td>
                    <td style="vertical-align: middle;">
                        <div class="group" style="text-align: center;">
                            <div class="left-group" style="width: 80%; font-size: 14px">{{ ligne.nom_formation }}</div>
                            <div class="right-group" style="width: 20%; font-size: 14px">id: {{ ligne.id_composante }}</div>
                        </div>
                    </td>
                    <td>{{ ligne.nom_etablissement }}</td>
                    <td>
                        <button style="width: 40px; height: 40px;" class="btn" onclick="window.location.href = '/etudiant/edit?id={{ ligne.idEtudiant }}'">
                            <i class="fa fa-pencil" style="color:rgb(70, 223, 31); font-size:20px; display:flex; justify-content: center; align-items: center; flex-direction: row;"></i>
                        </button>
                        <button style="width: 40px; height: 40px;" class="btn">
                            <i class="fa fa-trash-o" style="color:rgb(232, 34, 34); font-size:23px; display:flex; justify-content: center; align-items: center; flex-direction: row;" onclick="window.location.href = '/etudiant/delete?id={{ ligne.idEtudiant }}'"></i>
                        </button>
                    </td>
                </tr>
            {% endfor %}
        {% else %}
            <tr>
                <td>
                    pas d'étudiant
                </td>
            </tr>
        {% endif %}
        </tbody>
    </table>
{% endblock %}
